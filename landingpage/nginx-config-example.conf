# ============================================
# PhysioClinic - Nginx Configuration Example
# ============================================
# Place this file at: /etc/nginx/sites-available/physioclinic
# Then symlink: sudo ln -s /etc/nginx/sites-available/physioclinic /etc/nginx/sites-enabled/
# Then restart: sudo systemctl restart nginx

# ============================
# 1. MAIN WEBSITE (Landing Page)
# physioclinic.com → /var/www/physioclinic/landing/
# ============================
server {
    listen 80;
    server_name physioclinic.com www.physioclinic.com;

    root /var/www/physioclinic/landing;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }

    # Optional: redirect www to non-www
    # if ($host = www.physioclinic.com) {
    #     return 301 https://physioclinic.com$request_uri;
    # }
}

# ============================
# 2. CLINIC APP (Doctor/Staff Login)
# app.physioclinic.com → /var/www/physioclinic/app/
# ============================
server {
    listen 80;
    server_name app.physioclinic.com;

    root /var/www/physioclinic/app;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }
}

# ============================================
# FOLDER STRUCTURE ON YOUR SERVER:
# ============================================
#
# /var/www/physioclinic/
# ├── landing/                  ← physioclinic.com (this sample/ folder)
# │   └── index.html            ← Public landing page
# │
# └── app/                      ← app.physioclinic.com (the clinic app)
#     ├── index.html
#     ├── css/
#     │   └── style.css
#     └── js/
#         ├── utils.js
#         ├── store.js
#         ├── bodyDiagram.js
#         ├── app.js
#         └── views/
#             ├── login.js
#             ├── dashboard.js
#             ├── patients.js
#             ├── patientDetail.js
#             ├── appointments.js
#             ├── billing.js
#             └── messaging.js

# ============================================
# DNS SETUP (at your domain registrar):
# ============================================
#
# Type    Host                    Value
# A       @                       YOUR_SERVER_IP
# A       www                     YOUR_SERVER_IP
# A       app                     YOUR_SERVER_IP
#
# Example with IP 165.22.100.50:
# A       @                       165.22.100.50
# A       www                     165.22.100.50
# A       app                     165.22.100.50

# ============================================
# SSL (HTTPS) - Add after basic setup works:
# ============================================
# sudo apt install certbot python3-certbot-nginx
# sudo certbot --nginx -d physioclinic.com -d www.physioclinic.com -d app.physioclinic.com
# Certbot will auto-update nginx config to use HTTPS
